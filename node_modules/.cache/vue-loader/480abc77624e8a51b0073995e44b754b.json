{"remainingRequest":"/Users/funkim/giftbox_bootstrap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/funkim/giftbox_bootstrap/src/components/HelloWorld.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/funkim/giftbox_bootstrap/src/components/HelloWorld.vue","mtime":1601997181186},{"path":"/Users/funkim/giftbox_bootstrap/node_modules/cache-loader/dist/cjs.js","mtime":1599900938518},{"path":"/Users/funkim/giftbox_bootstrap/node_modules/babel-loader/lib/index.js","mtime":1599900938486},{"path":"/Users/funkim/giftbox_bootstrap/node_modules/cache-loader/dist/cjs.js","mtime":1599900938518},{"path":"/Users/funkim/giftbox_bootstrap/node_modules/vue-loader/lib/index.js","mtime":1599900939023}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCiAgaW1wb3J0IEFXUyBmcm9tICdhd3Mtc2RrJwogIGltcG9ydCBDS0VkaXRvciBmcm9tICdAY2tlZGl0b3IvY2tlZGl0b3I1LXZ1ZScKICBpbXBvcnQgQ2xhc3NpY0VkaXRvciBmcm9tICdAY2tlZGl0b3IvY2tlZGl0b3I1LWJ1aWxkLWNsYXNzaWMnOwoKICBleHBvcnQgZGVmYXVsdCB7CiAgICAgIGRhdGEgKCkgewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICBmaWxlOiBudWxsLAogICAgICAgICAgICAgIGFsYnVtQnVja2V0TmFtZTogcHJvY2Vzcy5lbnYuVlVFX0FQUF9CVUNLRVQsCiAgICAgICAgICAgICAgYnVja2V0UmVnaW9uOiBwcm9jZXNzLmVudi5WVUVfQVBQX1JFR0lPTiwKICAgICAgICAgICAgICBJZGVudGl0eVBvb2xJZDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9JZGVudGl0eVBvb2xJZCwKICAgICAgICAgICAgICBmaWxlTGlzdDpbXSwKICAgICAgICAgICAgICBlZGl0b3I6IENsYXNzaWNFZGl0b3IsCiAgICAgICAgICAgICAgZWRpdG9yRGF0YTogJzxwPkNvbnRlbnQgb2YgdGhlIGVkaXRvci48L3A+JywKICAgICAgICAgICAgICBlZGl0b3JDb25maWc6IHsKICAgICAgICAgICAgICAgICAgLy8gVGhlIGNvbmZpZ3VyYXRpb24gb2YgdGhlIGVkaXRvci4KICAgICAgICAgICAgICAgICAgLy8gJ2V4dHJhUGx1Z2lucyc6IFt1cGxvYWRlcl0KICAgICAgICAgICAgICAgICAgZXh0cmFQbHVnaW5zOiBbTXlDdXN0b21VcGxvYWRBZGFwdGVyUGx1Z2luXSwKICAgICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgIH0sCgogICAgICBjcmVhdGVkICgpIHsKICAgICAgICAgIC8vdGhpcy5nZXRGaWxlcygpCiAgICAgICAgICBjb25zb2xlLmxvZygiUGFyZW50IGNyZWF0ZWQiKQogICAgICB9LAogICAgICBtb3VudGVkKCkgeyAKICAgICAgICAgIGNvbnNvbGUubG9nKCJQYXJlbnQgbW91bnRlZCIpIAogICAgICB9LAoKICAgICAgbWV0aG9kczogewogICAgICAgICAgc3RvcmUoKQogICAgICAgICAgewogICAgICAgICAgICAgIC8vIFNvbWUgY29kZQogICAgICAgICAgfSwKCiAgICAgICAgICB1cGxvYWRlcihlZGl0b3IpCiAgICAgICAgICB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coZWRpdG9yKQogICAgICAgICAgICAgIC8vIGVkaXRvci5wbHVnaW5zLmdldCggJ0ZpbGVSZXBvc2l0b3J5JyApLmNyZWF0ZVVwbG9hZEFkYXB0ZXIgPSAoIGxvYWRlciApID0+IHsKICAgICAgICAgICAgICAvLyAgICAgcmV0dXJuIG5ldyBVcGxvYWRBZGFwdGVyKCBsb2FkZXIgKTsKICAgICAgICAgICAgICAvLyB9OwogICAgICAgICAgfSwKCiAgICAgICAgICBoYW5kbGVGaWxlVXBscGFkICgpIHsKICAgICAgICAgICAgICB0aGlzLmZpbGUgPSB0aGlzLiRyZWZzLmZpbGUuZmlsZXNbMF0KICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmZpbGUsICftjIzsnbzsnbQg7JeF66Gc65OcIOuQmOyXiOyKteuLiOuLpCcpCiAgICAgICAgICB9LAoKICAgICAgICAgIGdldEZpbGVzICgpIHsKICAgICAgICAgICAgICBBV1MuY29uZmlnLnVwZGF0ZSh7CiAgICAgICAgICAgICAgICAgIHJlZ2lvbjogdGhpcy5idWNrZXRSZWdpb24sCiAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzOiBuZXcgQVdTLkNvZ25pdG9JZGVudGl0eUNyZWRlbnRpYWxzKHsKICAgICAgICAgICAgICAgICAgICAgIElkZW50aXR5UG9vbElkOiB0aGlzLklkZW50aXR5UG9vbElkCiAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgfSkKCiAgICAgICAgICAgICAgY29uc3QgczMgPSBuZXcgQVdTLlMzKHsKICAgICAgICAgICAgICAgICAgYXBpVmVyc2lvbjogJzIwMDYtMDMtMDEnLAogICAgICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgICAgICAgIEJ1Y2tldDogdGhpcy5hbGJ1bUJ1Y2tldE5hbWUKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pCgogICAgICAgICAgICAgIHMzLmxpc3RPYmplY3RzKHsKICAgICAgICAgICAgICAgICAgRGVsaW1pdGVyOiAnLycKICAgICAgICAgICAgICB9LCAoZXJyLCBkYXRhKSA9PiB7CiAgICAgICAgICAgICAgICAgIGlmIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWxlcnQoJ1RoZXJlIHdhcyBhbiBlcnJvciBsaXN0aW5nIHlvdXIgYWxidW1zOiAnICsgZXJyLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgdGhpcy5maWxlTGlzdCA9IGRhdGEuQ29udGVudHMKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9LAogICAgICAgICAgdXBsb2FkRmlsZSAoKSB7CiAgICAgICAgICAgICAgQVdTLmNvbmZpZy51cGRhdGUoewogICAgICAgICAgICAgICAgICByZWdpb246IHRoaXMuYnVja2V0UmVnaW9uLAogICAgICAgICAgICAgICAgICBjcmVkZW50aWFsczogbmV3IEFXUy5Db2duaXRvSWRlbnRpdHlDcmVkZW50aWFscyh7CiAgICAgICAgICAgICAgICAgICAgICBJZGVudGl0eVBvb2xJZDogdGhpcy5JZGVudGl0eVBvb2xJZAogICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIH0pCgogICAgICAgICAgICAgIGNvbnN0IHMzID0gbmV3IEFXUy5TMyh7CiAgICAgICAgICAgICAgICAgIGFwaVZlcnNpb246ICcyMDA2LTAzLTAxJywKICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICAgICAgICBCdWNrZXQ6IHRoaXMuYWxidW1CdWNrZXROYW1lCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KQoKICAgICAgICAgICAgICBsZXQgcGhvdG9LZXkgPSAndXBsb2FkLycrdGhpcy5maWxlLm5hbWUKCiAgICAgICAgICAgICAgczMudXBsb2FkKHsKICAgICAgICAgICAgICAgICAgS2V5OiBwaG90b0tleSwKICAgICAgICAgICAgICAgICAgQm9keTogdGhpcy5maWxlLAogICAgICAgICAgICAgICAgICBBQ0w6ICdwdWJsaWMtcmVhZCcKICAgICAgICAgICAgICB9LCAoZXJyLCBkYXRhKSA9PiB7CiAgICAgICAgICAgICAgICAgIGlmIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhbGVydCgnVGhlcmUgd2FzIGFuIGVycm9yIHVwbG9hZGluZyB5b3VyIHBob3RvOiAnLCBlcnIubWVzc2FnZSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgIH0sCgogICAgICAgICAgZGVsZXRlRmlsZSAoS2V5KSB7CiAgICAgICAgICAgICAgQVdTLmNvbmZpZy51cGRhdGUoewogICAgICAgICAgICAgICAgICByZWdpb246IHRoaXMuYnVja2V0UmVnaW9uLAogICAgICAgICAgICAgICAgICBjcmVkZW50aWFsczogbmV3IEFXUy5Db2duaXRvSWRlbnRpdHlDcmVkZW50aWFscyh7CiAgICAgICAgICAgICAgICAgICAgICBJZGVudGl0eVBvb2xJZDogdGhpcy5JZGVudGl0eVBvb2xJZAogICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIH0pCgogICAgICAgICAgICAgIGNvbnN0IHMzID0gbmV3IEFXUy5TMyh7CiAgICAgICAgICAgICAgICAgIGFwaVZlcnNpb246ICcyMDA2LTAzLTAxJywKICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICAgICAgICBCdWNrZXQ6IHRoaXMuYWxidW1CdWNrZXROYW1lCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KQoKICAgICAgICAgICAgICBzMy5kZWxldGVPYmplY3QoewogICAgICAgICAgICAgICAgICBLZXk6IEtleQogICAgICAgICAgICAgIH0sIChlcnIsIGRhdGEpID0+IHsKICAgICAgICAgICAgICAgICAgaWYgKGVycikgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFsZXJ0KCdUaGVyZSB3YXMgYW4gZXJyb3IgZGVsZXRpbmcgeW91ciBwaG90bzogJywgZXJyLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIGFsZXJ0KCfsgq3soJzrkJjsl4jsirXri4jri6QuJykKICAgICAgICAgICAgICAgICAgdGhpcy5nZXRGaWxlcygpCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICB9LAogICAgICB9CiAgfQoKICBjbGFzcyBVcGxvYWRBZGFwdGVyIHsKICAgIGNvbnN0cnVjdG9yKGxvYWRlcikgewogICAgICAgIHRoaXMubG9hZGVyID0gbG9hZGVyOwogICAgfQogICAgdXBsb2FkKCkgewogICAgICAgIHJldHVybiB0aGlzLmxvYWRlci5maWxlLnRoZW4oIGZpbGUgPT4gbmV3IFByb21pc2UoKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICAgICAgdGhpcy5faW5pdFJlcXVlc3QoKTsKICAgICAgICAgICAgdGhpcy5faW5pdExpc3RlbmVycyggcmVzb2x2ZSwgcmVqZWN0LCBmaWxlICk7CiAgICAgICAgICAgIHRoaXMuX3NlbmRSZXF1ZXN0KCBmaWxlICk7CiAgICAgICAgfSkpKQogICAgfQoKICAgIF9pbml0UmVxdWVzdCgpIHsKICAgICAgICBjb25zdCB4aHIgPSB0aGlzLnhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwogICAgICAgIHhoci5vcGVuKCdQT1NUJywgJ2h0dHBzOi8vZGV2LWhvdXJmdW4tZnJvbnQuczMuYXAtbm9ydGhlYXN0LTIuYW1hem9uYXdzLmNvbS91cGxvYWQvJywgdHJ1ZSk7CiAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdqc29uJzsKICAgICAgICBjb25zb2xlLmxvZyh4aHIpCiAgICB9CgogICAgX2luaXRMaXN0ZW5lcnMocmVzb2x2ZSwgcmVqZWN0LCBmaWxlKSB7CiAgICAgICAgY29uc3QgeGhyID0gdGhpcy54aHI7CiAgICAgICAgY29uc3QgbG9hZGVyID0gdGhpcy5sb2FkZXI7CiAgICAgICAgY29uc3QgZ2VuZXJpY0Vycm9yVGV4dCA9ICftjIzsnbzsnYQg7JeF66Gc65OcIO2VoCDsiJgg7JeG7Iq164uI64ukLicKICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCAoKSA9PiB7cmVqZWN0KGdlbmVyaWNFcnJvclRleHQpfSkKICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCAoKSA9PiByZWplY3QoKSkKICAgICAgICBjb25zb2xlLmxvZyh4aHIpCiAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geGhyLnJlc3BvbnNlCiAgICAgICAgICAgIGlmKCFyZXNwb25zZSB8fCByZXNwb25zZS5lcnJvcikgewogICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdCggcmVzcG9uc2UgJiYgcmVzcG9uc2UuZXJyb3IgPyByZXNwb25zZS5lcnJvci5tZXNzYWdlIDogZ2VuZXJpY0Vycm9yVGV4dCApOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXNvbHZlKHsKICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHJlc3BvbnNlLnVybCAvL+yXheuhnOuTnOuQnCDtjIzsnbwg7KO87IaMCiAgICAgICAgICAgIH0pCiAgICAgICAgfSkKICAgIH0KCiAgICBfc2VuZFJlcXVlc3QoZmlsZSkgewogICAgICAgICBBV1MuY29uZmlnLnVwZGF0ZSh7CiAgICAgICAgICAgICByZWdpb246IHByb2Nlc3MuZW52LlZVRV9BUFBfUkVHSU9OLAogICAgICAgICAgICAgY3JlZGVudGlhbHM6IG5ldyBBV1MuQ29nbml0b0lkZW50aXR5Q3JlZGVudGlhbHMoewogICAgICAgICAgICAgICAgIElkZW50aXR5UG9vbElkOiBwcm9jZXNzLmVudi5WVUVfQVBQX0lkZW50aXR5UG9vbElkCiAgICAgICAgICAgICB9KQogICAgICAgICB9KQogICAgICAgICBjb25zdCBzMyA9IG5ldyBBV1MuUzMoewogICAgICAgICAgICAgYXBpVmVyc2lvbjogJzIwMDYtMDMtMDEnLAogICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICAgQnVja2V0OiBwcm9jZXNzLmVudi5WVUVfQVBQX0JVQ0tFVAogICAgICAgICAgICAgfQogICAgICAgICB9KQoKICAgICAgICAgLy8gaWYoZmlsZS5zaXplID4gNTAwMCl7CiAgICAgICAgIC8vICAgICByZXR1cm4gYWxlcnQoJ+yaqeufieydtCDrhIjrrLQg7YG864uI64ukLicpCiAgICAgICAgIC8vIH0KICAgICAgICAgY29uc29sZS5sb2coZmlsZSkKICAgICAgICAgbGV0IHBob3RvS2V5ID0gJ3VwbG9hZC8nK2ZpbGUubmFtZQogICAgICAgICBzMy51cGxvYWQoewogICAgICAgICAgICAgS2V5OiBwaG90b0tleSwKICAgICAgICAgICAgIEJvZHk6IGZpbGUsCiAgICAgICAgICAgICBBQ0w6ICdwdWJsaWMtcmVhZCcKICAgICAgICAgfSwgKGVyciwgZGF0YSkgPT4gewogICAgICAgICAgICAgaWYgKGVycikgewogICAgICAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmxvZygnVGhlcmUgd2FzIGFuIGVycm9yIHVwbG9hZGluZyB5b3VyIHBob3RvOiAnLCBlcnIubWVzc2FnZSk7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhLCAndXBsb2FkIGVuZCcpCiAgICAgICAgIH0pOwogICAgfQp9CgpmdW5jdGlvbiBNeUN1c3RvbVVwbG9hZEFkYXB0ZXJQbHVnaW4oZWRpdG9yKSB7CiAgICBlZGl0b3IucGx1Z2lucy5nZXQoJ0ZpbGVSZXBvc2l0b3J5JykuY3JlYXRlVXBsb2FkQWRhcHRlciA9IChsb2FkZXIpID0+IHsKICAgICAgICByZXR1cm4gbmV3IFVwbG9hZEFkYXB0ZXIobG9hZGVyKQogICAgfQp9Cg=="},{"version":3,"sources":["HelloWorld.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"HelloWorld.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <b-container class=\"bv-example-row mt-md-5 mt-4 mb-md-5 mb-4\">\n        <h1>파일 리스트</h1>\n        <div v-for=\"(file, index) in fileList\" :key=\"file.Key\">\n            #{{index+1}} {{file.Key}}\n            <b-button @click=\"deleteFile(file.Key)\" color=\"res\">x</b-button>\n        </div>\n\n        <h1>파일 업로더</h1>\n        <input id=\"file-selector\" ref=\"file\" type=\"file\" @change=\"handleFileUplpad()\">\n        <b-button @click=\"uploadFile\" color=\"primary\">업12로드</b-button>\n\n        <ckeditor :editor=\"editor\" v-model=\"editorData\" :config=\"editorConfig\"></ckeditor>\n    </b-container>\n</template>\n\n\n<script>\n    import AWS from 'aws-sdk'\n    import CKEditor from '@ckeditor/ckeditor5-vue'\n    import ClassicEditor from '@ckeditor/ckeditor5-build-classic';\n\n    export default {\n        data () {\n            return {\n                file: null,\n                albumBucketName: process.env.VUE_APP_BUCKET,\n                bucketRegion: process.env.VUE_APP_REGION,\n                IdentityPoolId: process.env.VUE_APP_IdentityPoolId,\n                fileList:[],\n                editor: ClassicEditor,\n                editorData: '<p>Content of the editor.</p>',\n                editorConfig: {\n                    // The configuration of the editor.\n                    // 'extraPlugins': [uploader]\n                    extraPlugins: [MyCustomUploadAdapterPlugin],\n                }\n            }\n        },\n\n        created () {\n            //this.getFiles()\n            console.log(\"Parent created\")\n        },\n        mounted() { \n            console.log(\"Parent mounted\") \n        },\n\n        methods: {\n            store()\n            {\n                // Some code\n            },\n\n            uploader(editor)\n            {\n                console.log(editor)\n                // editor.plugins.get( 'FileRepository' ).createUploadAdapter = ( loader ) => {\n                //     return new UploadAdapter( loader );\n                // };\n            },\n\n            handleFileUplpad () {\n                this.file = this.$refs.file.files[0]\n                console.log(this.file, '파일이 업로드 되었습니다')\n            },\n\n            getFiles () {\n                AWS.config.update({\n                    region: this.bucketRegion,\n                    credentials: new AWS.CognitoIdentityCredentials({\n                        IdentityPoolId: this.IdentityPoolId\n                    })\n                })\n\n                const s3 = new AWS.S3({\n                    apiVersion: '2006-03-01',\n                    params: {\n                        Bucket: this.albumBucketName\n                    }\n                })\n\n                s3.listObjects({\n                    Delimiter: '/'\n                }, (err, data) => {\n                    if (err) {\n                      return alert('There was an error listing your albums: ' + err.message);\n                  } else {\n                    this.fileList = data.Contents\n                  }\n              });\n            },\n            uploadFile () {\n                AWS.config.update({\n                    region: this.bucketRegion,\n                    credentials: new AWS.CognitoIdentityCredentials({\n                        IdentityPoolId: this.IdentityPoolId\n                    })\n                })\n\n                const s3 = new AWS.S3({\n                    apiVersion: '2006-03-01',\n                    params: {\n                        Bucket: this.albumBucketName\n                    }\n                })\n\n                let photoKey = 'upload/'+this.file.name\n\n                s3.upload({\n                    Key: photoKey,\n                    Body: this.file,\n                    ACL: 'public-read'\n                }, (err, data) => {\n                    if (err) {\n                        return alert('There was an error uploading your photo: ', err.message);\n                    }\n                });\n            },\n\n            deleteFile (Key) {\n                AWS.config.update({\n                    region: this.bucketRegion,\n                    credentials: new AWS.CognitoIdentityCredentials({\n                        IdentityPoolId: this.IdentityPoolId\n                    })\n                })\n\n                const s3 = new AWS.S3({\n                    apiVersion: '2006-03-01',\n                    params: {\n                        Bucket: this.albumBucketName\n                    }\n                })\n\n                s3.deleteObject({\n                    Key: Key\n                }, (err, data) => {\n                    if (err) {\n                        return alert('There was an error deleting your photo: ', err.message);\n                    }\n                    alert('삭제되었습니다.')\n                    this.getFiles()\n                });\n            },\n        }\n    }\n\n    class UploadAdapter {\n      constructor(loader) {\n          this.loader = loader;\n      }\n      upload() {\n          return this.loader.file.then( file => new Promise(((resolve, reject) => {\n              this._initRequest();\n              this._initListeners( resolve, reject, file );\n              this._sendRequest( file );\n          })))\n      }\n\n      _initRequest() {\n          const xhr = this.xhr = new XMLHttpRequest();\n          xhr.open('POST', 'https://dev-hourfun-front.s3.ap-northeast-2.amazonaws.com/upload/', true);\n          xhr.responseType = 'json';\n          console.log(xhr)\n      }\n\n      _initListeners(resolve, reject, file) {\n          const xhr = this.xhr;\n          const loader = this.loader;\n          const genericErrorText = '파일을 업로드 할 수 없습니다.'\n          xhr.addEventListener('error', () => {reject(genericErrorText)})\n          xhr.addEventListener('abort', () => reject())\n          console.log(xhr)\n          xhr.addEventListener('load', () => {\n              const response = xhr.response\n              if(!response || response.error) {\n                  return reject( response && response.error ? response.error.message : genericErrorText );\n              }\n\n              resolve({\n                  default: response.url //업로드된 파일 주소\n              })\n          })\n      }\n\n      _sendRequest(file) {\n           AWS.config.update({\n               region: process.env.VUE_APP_REGION,\n               credentials: new AWS.CognitoIdentityCredentials({\n                   IdentityPoolId: process.env.VUE_APP_IdentityPoolId\n               })\n           })\n           const s3 = new AWS.S3({\n               apiVersion: '2006-03-01',\n               params: {\n                   Bucket: process.env.VUE_APP_BUCKET\n               }\n           })\n\n           // if(file.size > 5000){\n           //     return alert('용량이 너무 큼니다.')\n           // }\n           console.log(file)\n           let photoKey = 'upload/'+file.name\n           s3.upload({\n               Key: photoKey,\n               Body: file,\n               ACL: 'public-read'\n           }, (err, data) => {\n               if (err) {\n                   return console.log('There was an error uploading your photo: ', err.message);\n               }\n               console.log(data, 'upload end')\n           });\n      }\n  }\n\n  function MyCustomUploadAdapterPlugin(editor) {\n      editor.plugins.get('FileRepository').createUploadAdapter = (loader) => {\n          return new UploadAdapter(loader)\n      }\n  }\n</script>\n"]}]}