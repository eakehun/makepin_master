{"remainingRequest":"/Users/funkim/giftbox_bootstrap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/funkim/giftbox_bootstrap/src/components/HelloWorld.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/funkim/giftbox_bootstrap/src/components/HelloWorld.vue","mtime":1601996544893},{"path":"/Users/funkim/giftbox_bootstrap/node_modules/babel-loader/lib/index.js","mtime":1599900938486},{"path":"/Users/funkim/giftbox_bootstrap/node_modules/cache-loader/dist/cjs.js","mtime":1599900938518},{"path":"/Users/funkim/giftbox_bootstrap/node_modules/vue-loader/lib/index.js","mtime":1599900939023}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCiAgaW1wb3J0IEFXUyBmcm9tICdhd3Mtc2RrJwogIGltcG9ydCBDS0VkaXRvciBmcm9tICdAY2tlZGl0b3IvY2tlZGl0b3I1LXZ1ZScKICBpbXBvcnQgQ2xhc3NpY0VkaXRvciBmcm9tICdAY2tlZGl0b3IvY2tlZGl0b3I1LWJ1aWxkLWNsYXNzaWMnOwoKICBleHBvcnQgZGVmYXVsdCB7CiAgICAgIGRhdGEgKCkgewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICBmaWxlOiBudWxsLAogICAgICAgICAgICAgIGFsYnVtQnVja2V0TmFtZTogJ2Rldi1ob3VyZnVuLWZyb250JywKICAgICAgICAgICAgICBidWNrZXRSZWdpb246ICdhcC1ub3J0aGVhc3QtMicsCiAgICAgICAgICAgICAgSWRlbnRpdHlQb29sSWQ6ICdhcC1ub3J0aGVhc3QtMjplYzZlMWEwNi04Y2NhLTQ4OGUtODM2ZC04ZjVlM2QzZWI2YjUnLAogICAgICAgICAgICAgIGZpbGVMaXN0OltdLAogICAgICAgICAgICAgIGVkaXRvcjogQ2xhc3NpY0VkaXRvciwKICAgICAgICAgICAgICBlZGl0b3JEYXRhOiAnPHA+Q29udGVudCBvZiB0aGUgZWRpdG9yLjwvcD4nLAogICAgICAgICAgICAgIGVkaXRvckNvbmZpZzogewogICAgICAgICAgICAgICAgICAvLyBUaGUgY29uZmlndXJhdGlvbiBvZiB0aGUgZWRpdG9yLgogICAgICAgICAgICAgICAgICAvLyAnZXh0cmFQbHVnaW5zJzogW3VwbG9hZGVyXQogICAgICAgICAgICAgICAgICBleHRyYVBsdWdpbnM6IFtNeUN1c3RvbVVwbG9hZEFkYXB0ZXJQbHVnaW5dLAogICAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgfSwKCiAgICAgIGNyZWF0ZWQgKCkgewogICAgICAgICAgLy90aGlzLmdldEZpbGVzKCkKICAgICAgICAgIGNvbnNvbGUubG9nKCJQYXJlbnQgY3JlYXRlZCIpCiAgICAgIH0sCiAgICAgIG1vdW50ZWQoKSB7IAogICAgICAgICAgY29uc29sZS5sb2coIlBhcmVudCBtb3VudGVkIikgCiAgICAgIH0sCgogICAgICBtZXRob2RzOiB7CiAgICAgICAgICBzdG9yZSgpCiAgICAgICAgICB7CiAgICAgICAgICAgICAgLy8gU29tZSBjb2RlCiAgICAgICAgICB9LAoKICAgICAgICAgIHVwbG9hZGVyKGVkaXRvcikKICAgICAgICAgIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlZGl0b3IpCiAgICAgICAgICAgICAgLy8gZWRpdG9yLnBsdWdpbnMuZ2V0KCAnRmlsZVJlcG9zaXRvcnknICkuY3JlYXRlVXBsb2FkQWRhcHRlciA9ICggbG9hZGVyICkgPT4gewogICAgICAgICAgICAgIC8vICAgICByZXR1cm4gbmV3IFVwbG9hZEFkYXB0ZXIoIGxvYWRlciApOwogICAgICAgICAgICAgIC8vIH07CiAgICAgICAgICB9LAoKICAgICAgICAgIGhhbmRsZUZpbGVVcGxwYWQgKCkgewogICAgICAgICAgICAgIHRoaXMuZmlsZSA9IHRoaXMuJHJlZnMuZmlsZS5maWxlc1swXQogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZmlsZSwgJ+2MjOydvOydtCDsl4XroZzrk5wg65CY7JeI7Iq164uI64ukJykKICAgICAgICAgIH0sCgogICAgICAgICAgZ2V0RmlsZXMgKCkgewogICAgICAgICAgICAgIEFXUy5jb25maWcudXBkYXRlKHsKICAgICAgICAgICAgICAgICAgcmVnaW9uOiB0aGlzLmJ1Y2tldFJlZ2lvbiwKICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6IG5ldyBBV1MuQ29nbml0b0lkZW50aXR5Q3JlZGVudGlhbHMoewogICAgICAgICAgICAgICAgICAgICAgSWRlbnRpdHlQb29sSWQ6IHRoaXMuSWRlbnRpdHlQb29sSWQKICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICB9KQoKICAgICAgICAgICAgICBjb25zdCBzMyA9IG5ldyBBV1MuUzMoewogICAgICAgICAgICAgICAgICBhcGlWZXJzaW9uOiAnMjAwNi0wMy0wMScsCiAgICAgICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgICAgICAgQnVja2V0OiB0aGlzLmFsYnVtQnVja2V0TmFtZQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSkKCiAgICAgICAgICAgICAgczMubGlzdE9iamVjdHMoewogICAgICAgICAgICAgICAgICBEZWxpbWl0ZXI6ICcvJwogICAgICAgICAgICAgIH0sIChlcnIsIGRhdGEpID0+IHsKICAgICAgICAgICAgICAgICAgaWYgKGVycikgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBhbGVydCgnVGhlcmUgd2FzIGFuIGVycm9yIGxpc3RpbmcgeW91ciBhbGJ1bXM6ICcgKyBlcnIubWVzc2FnZSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICB0aGlzLmZpbGVMaXN0ID0gZGF0YS5Db250ZW50cwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0sCiAgICAgICAgICB1cGxvYWRGaWxlICgpIHsKICAgICAgICAgICAgICBBV1MuY29uZmlnLnVwZGF0ZSh7CiAgICAgICAgICAgICAgICAgIHJlZ2lvbjogdGhpcy5idWNrZXRSZWdpb24sCiAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzOiBuZXcgQVdTLkNvZ25pdG9JZGVudGl0eUNyZWRlbnRpYWxzKHsKICAgICAgICAgICAgICAgICAgICAgIElkZW50aXR5UG9vbElkOiB0aGlzLklkZW50aXR5UG9vbElkCiAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgfSkKCiAgICAgICAgICAgICAgY29uc3QgczMgPSBuZXcgQVdTLlMzKHsKICAgICAgICAgICAgICAgICAgYXBpVmVyc2lvbjogJzIwMDYtMDMtMDEnLAogICAgICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgICAgICAgIEJ1Y2tldDogdGhpcy5hbGJ1bUJ1Y2tldE5hbWUKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pCgogICAgICAgICAgICAgIGxldCBwaG90b0tleSA9IHRoaXMuZmlsZS5uYW1lCgogICAgICAgICAgICAgIHMzLnVwbG9hZCh7CiAgICAgICAgICAgICAgICAgIEtleTogcGhvdG9LZXksCiAgICAgICAgICAgICAgICAgIEJvZHk6IHRoaXMuZmlsZSwKICAgICAgICAgICAgICAgICAgQUNMOiAncHVibGljLXJlYWQnCiAgICAgICAgICAgICAgfSwgKGVyciwgZGF0YSkgPT4gewogICAgICAgICAgICAgICAgICBpZiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWxlcnQoJ1RoZXJlIHdhcyBhbiBlcnJvciB1cGxvYWRpbmcgeW91ciBwaG90bzogJywgZXJyLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0RmlsZXMoKQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgfSwKCiAgICAgICAgICBkZWxldGVGaWxlIChLZXkpIHsKICAgICAgICAgICAgICBBV1MuY29uZmlnLnVwZGF0ZSh7CiAgICAgICAgICAgICAgICAgIHJlZ2lvbjogdGhpcy5idWNrZXRSZWdpb24sCiAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzOiBuZXcgQVdTLkNvZ25pdG9JZGVudGl0eUNyZWRlbnRpYWxzKHsKICAgICAgICAgICAgICAgICAgICAgIElkZW50aXR5UG9vbElkOiB0aGlzLklkZW50aXR5UG9vbElkCiAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgfSkKCiAgICAgICAgICAgICAgY29uc3QgczMgPSBuZXcgQVdTLlMzKHsKICAgICAgICAgICAgICAgICAgYXBpVmVyc2lvbjogJzIwMDYtMDMtMDEnLAogICAgICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgICAgICAgIEJ1Y2tldDogdGhpcy5hbGJ1bUJ1Y2tldE5hbWUKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pCgogICAgICAgICAgICAgIHMzLmRlbGV0ZU9iamVjdCh7CiAgICAgICAgICAgICAgICAgIEtleTogS2V5CiAgICAgICAgICAgICAgfSwgKGVyciwgZGF0YSkgPT4gewogICAgICAgICAgICAgICAgICBpZiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWxlcnQoJ1RoZXJlIHdhcyBhbiBlcnJvciBkZWxldGluZyB5b3VyIHBob3RvOiAnLCBlcnIubWVzc2FnZSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgYWxlcnQoJ+yCreygnOuQmOyXiOyKteuLiOuLpC4nKQogICAgICAgICAgICAgICAgICB0aGlzLmdldEZpbGVzKCkKICAgICAgICAgICAgICB9KTsKICAgICAgICAgIH0sCiAgICAgIH0KICB9CgogIGNsYXNzIFVwbG9hZEFkYXB0ZXIgewogICAgY29uc3RydWN0b3IobG9hZGVyKSB7CiAgICAgICAgdGhpcy5sb2FkZXIgPSBsb2FkZXI7CiAgICB9CiAgICB1cGxvYWQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMubG9hZGVyLmZpbGUudGhlbiggZmlsZSA9PiBuZXcgUHJvbWlzZSgoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgICAgICB0aGlzLl9pbml0UmVxdWVzdCgpOwogICAgICAgICAgICB0aGlzLl9pbml0TGlzdGVuZXJzKCByZXNvbHZlLCByZWplY3QsIGZpbGUgKTsKICAgICAgICAgICAgdGhpcy5fc2VuZFJlcXVlc3QoIGZpbGUgKTsKICAgICAgICB9KSkpCiAgICB9CgogICAgX2luaXRSZXF1ZXN0KCkgewogICAgICAgIGNvbnN0IHhociA9IHRoaXMueGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CiAgICAgICAgeGhyLm9wZW4oJ1BPU1QnLCAnaHR0cHM6Ly9kZXYtaG91cmZ1bi1mcm9udC5zMy5hcC1ub3J0aGVhc3QtMi5hbWF6b25hd3MuY29tL3VwbG9hZC8nLCB0cnVlKTsKICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2pzb24nOwogICAgICAgIGNvbnNvbGUubG9nKHhocikKICAgIH0KCiAgICBfaW5pdExpc3RlbmVycyhyZXNvbHZlLCByZWplY3QsIGZpbGUpIHsKICAgICAgICBjb25zdCB4aHIgPSB0aGlzLnhocjsKICAgICAgICBjb25zdCBsb2FkZXIgPSB0aGlzLmxvYWRlcjsKICAgICAgICBjb25zdCBnZW5lcmljRXJyb3JUZXh0ID0gJ+2MjOydvOydhCDsl4XroZzrk5wg7ZWgIOyImCDsl4bsirXri4jri6QuJwogICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsICgpID0+IHtyZWplY3QoZ2VuZXJpY0Vycm9yVGV4dCl9KQogICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsICgpID0+IHJlamVjdCgpKQogICAgICAgIGNvbnNvbGUubG9nKHhocikKICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHsKICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB4aHIucmVzcG9uc2UKICAgICAgICAgICAgaWYoIXJlc3BvbnNlIHx8IHJlc3BvbnNlLmVycm9yKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KCByZXNwb25zZSAmJiByZXNwb25zZS5lcnJvciA/IHJlc3BvbnNlLmVycm9yLm1lc3NhZ2UgOiBnZW5lcmljRXJyb3JUZXh0ICk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJlc29sdmUoewogICAgICAgICAgICAgICAgZGVmYXVsdDogcmVzcG9uc2UudXJsIC8v7JeF66Gc65Oc65CcIO2MjOydvCDso7zshowKICAgICAgICAgICAgfSkKICAgICAgICB9KQogICAgfQoKICAgIF9zZW5kUmVxdWVzdChmaWxlKSB7CiAgICAgICAgIEFXUy5jb25maWcudXBkYXRlKHsKICAgICAgICAgICAgIHJlZ2lvbjogJ2FwLW5vcnRoZWFzdC0yJywKICAgICAgICAgICAgIGNyZWRlbnRpYWxzOiBuZXcgQVdTLkNvZ25pdG9JZGVudGl0eUNyZWRlbnRpYWxzKHsKICAgICAgICAgICAgICAgICBJZGVudGl0eVBvb2xJZDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9JZGVudGl0eVBvb2xJZAogICAgICAgICAgICAgfSkKICAgICAgICAgfSkKICAgICAgICAgY29uc3QgczMgPSBuZXcgQVdTLlMzKHsKICAgICAgICAgICAgIGFwaVZlcnNpb246ICcyMDA2LTAzLTAxJywKICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgIEJ1Y2tldDogJ2Rldi1ob3VyZnVuLWZyb250JwogICAgICAgICAgICAgfQogICAgICAgICB9KQoKICAgICAgICAgLy8gaWYoZmlsZS5zaXplID4gNTAwMCl7CiAgICAgICAgIC8vICAgICByZXR1cm4gYWxlcnQoJ+yaqeufieydtCDrhIjrrLQg7YG864uI64ukLicpCiAgICAgICAgIC8vIH0KICAgICAgICAgY29uc29sZS5sb2coZmlsZSkKICAgICAgICAgbGV0IHBob3RvS2V5ID0gJ3VwbG9hZC8nK2ZpbGUubmFtZQogICAgICAgICBzMy51cGxvYWQoewogICAgICAgICAgICAgS2V5OiBwaG90b0tleSwKICAgICAgICAgICAgIEJvZHk6IGZpbGUsCiAgICAgICAgICAgICBBQ0w6ICdwdWJsaWMtcmVhZCcKICAgICAgICAgfSwgKGVyciwgZGF0YSkgPT4gewogICAgICAgICAgICAgaWYgKGVycikgewogICAgICAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmxvZygnVGhlcmUgd2FzIGFuIGVycm9yIHVwbG9hZGluZyB5b3VyIHBob3RvOiAnLCBlcnIubWVzc2FnZSk7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhLCAndXBsb2FkIGVuZCcpCiAgICAgICAgIH0pOwogICAgfQp9CgpmdW5jdGlvbiBNeUN1c3RvbVVwbG9hZEFkYXB0ZXJQbHVnaW4oZWRpdG9yKSB7CiAgICBlZGl0b3IucGx1Z2lucy5nZXQoJ0ZpbGVSZXBvc2l0b3J5JykuY3JlYXRlVXBsb2FkQWRhcHRlciA9IChsb2FkZXIpID0+IHsKICAgICAgICByZXR1cm4gbmV3IFVwbG9hZEFkYXB0ZXIobG9hZGVyKQogICAgfQp9Cg=="},{"version":3,"sources":["HelloWorld.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"HelloWorld.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <b-container class=\"bv-example-row mt-md-5 mt-4 mb-md-5 mb-4\">\n        <h1>파일 리스트</h1>\n        <div v-for=\"(file, index) in fileList\" :key=\"file.Key\">\n            #{{index+1}} {{file.Key}}\n            <b-button @click=\"deleteFile(file.Key)\" color=\"res\">x</b-button>\n        </div>\n\n        <h1>파일 업로더</h1>\n        <input id=\"file-selector\" ref=\"file\" type=\"file\" @change=\"handleFileUplpad()\">\n        <b-button @click=\"uploadFile\" color=\"primary\">업12로드</b-button>\n\n        <ckeditor :editor=\"editor\" v-model=\"editorData\" :config=\"editorConfig\"></ckeditor>\n    </b-container>\n</template>\n\n\n<script>\n    import AWS from 'aws-sdk'\n    import CKEditor from '@ckeditor/ckeditor5-vue'\n    import ClassicEditor from '@ckeditor/ckeditor5-build-classic';\n\n    export default {\n        data () {\n            return {\n                file: null,\n                albumBucketName: 'dev-hourfun-front',\n                bucketRegion: 'ap-northeast-2',\n                IdentityPoolId: 'ap-northeast-2:ec6e1a06-8cca-488e-836d-8f5e3d3eb6b5',\n                fileList:[],\n                editor: ClassicEditor,\n                editorData: '<p>Content of the editor.</p>',\n                editorConfig: {\n                    // The configuration of the editor.\n                    // 'extraPlugins': [uploader]\n                    extraPlugins: [MyCustomUploadAdapterPlugin],\n                }\n            }\n        },\n\n        created () {\n            //this.getFiles()\n            console.log(\"Parent created\")\n        },\n        mounted() { \n            console.log(\"Parent mounted\") \n        },\n\n        methods: {\n            store()\n            {\n                // Some code\n            },\n\n            uploader(editor)\n            {\n                console.log(editor)\n                // editor.plugins.get( 'FileRepository' ).createUploadAdapter = ( loader ) => {\n                //     return new UploadAdapter( loader );\n                // };\n            },\n\n            handleFileUplpad () {\n                this.file = this.$refs.file.files[0]\n                console.log(this.file, '파일이 업로드 되었습니다')\n            },\n\n            getFiles () {\n                AWS.config.update({\n                    region: this.bucketRegion,\n                    credentials: new AWS.CognitoIdentityCredentials({\n                        IdentityPoolId: this.IdentityPoolId\n                    })\n                })\n\n                const s3 = new AWS.S3({\n                    apiVersion: '2006-03-01',\n                    params: {\n                        Bucket: this.albumBucketName\n                    }\n                })\n\n                s3.listObjects({\n                    Delimiter: '/'\n                }, (err, data) => {\n                    if (err) {\n                      return alert('There was an error listing your albums: ' + err.message);\n                  } else {\n                    this.fileList = data.Contents\n                  }\n              });\n            },\n            uploadFile () {\n                AWS.config.update({\n                    region: this.bucketRegion,\n                    credentials: new AWS.CognitoIdentityCredentials({\n                        IdentityPoolId: this.IdentityPoolId\n                    })\n                })\n\n                const s3 = new AWS.S3({\n                    apiVersion: '2006-03-01',\n                    params: {\n                        Bucket: this.albumBucketName\n                    }\n                })\n\n                let photoKey = this.file.name\n\n                s3.upload({\n                    Key: photoKey,\n                    Body: this.file,\n                    ACL: 'public-read'\n                }, (err, data) => {\n                    if (err) {\n                        return alert('There was an error uploading your photo: ', err.message);\n                    }\n                    this.getFiles()\n                });\n            },\n\n            deleteFile (Key) {\n                AWS.config.update({\n                    region: this.bucketRegion,\n                    credentials: new AWS.CognitoIdentityCredentials({\n                        IdentityPoolId: this.IdentityPoolId\n                    })\n                })\n\n                const s3 = new AWS.S3({\n                    apiVersion: '2006-03-01',\n                    params: {\n                        Bucket: this.albumBucketName\n                    }\n                })\n\n                s3.deleteObject({\n                    Key: Key\n                }, (err, data) => {\n                    if (err) {\n                        return alert('There was an error deleting your photo: ', err.message);\n                    }\n                    alert('삭제되었습니다.')\n                    this.getFiles()\n                });\n            },\n        }\n    }\n\n    class UploadAdapter {\n      constructor(loader) {\n          this.loader = loader;\n      }\n      upload() {\n          return this.loader.file.then( file => new Promise(((resolve, reject) => {\n              this._initRequest();\n              this._initListeners( resolve, reject, file );\n              this._sendRequest( file );\n          })))\n      }\n\n      _initRequest() {\n          const xhr = this.xhr = new XMLHttpRequest();\n          xhr.open('POST', 'https://dev-hourfun-front.s3.ap-northeast-2.amazonaws.com/upload/', true);\n          xhr.responseType = 'json';\n          console.log(xhr)\n      }\n\n      _initListeners(resolve, reject, file) {\n          const xhr = this.xhr;\n          const loader = this.loader;\n          const genericErrorText = '파일을 업로드 할 수 없습니다.'\n          xhr.addEventListener('error', () => {reject(genericErrorText)})\n          xhr.addEventListener('abort', () => reject())\n          console.log(xhr)\n          xhr.addEventListener('load', () => {\n              const response = xhr.response\n              if(!response || response.error) {\n                  return reject( response && response.error ? response.error.message : genericErrorText );\n              }\n\n              resolve({\n                  default: response.url //업로드된 파일 주소\n              })\n          })\n      }\n\n      _sendRequest(file) {\n           AWS.config.update({\n               region: 'ap-northeast-2',\n               credentials: new AWS.CognitoIdentityCredentials({\n                   IdentityPoolId: process.env.VUE_APP_IdentityPoolId\n               })\n           })\n           const s3 = new AWS.S3({\n               apiVersion: '2006-03-01',\n               params: {\n                   Bucket: 'dev-hourfun-front'\n               }\n           })\n\n           // if(file.size > 5000){\n           //     return alert('용량이 너무 큼니다.')\n           // }\n           console.log(file)\n           let photoKey = 'upload/'+file.name\n           s3.upload({\n               Key: photoKey,\n               Body: file,\n               ACL: 'public-read'\n           }, (err, data) => {\n               if (err) {\n                   return console.log('There was an error uploading your photo: ', err.message);\n               }\n               console.log(data, 'upload end')\n           });\n      }\n  }\n\n  function MyCustomUploadAdapterPlugin(editor) {\n      editor.plugins.get('FileRepository').createUploadAdapter = (loader) => {\n          return new UploadAdapter(loader)\n      }\n  }\n</script>\n"]}]}