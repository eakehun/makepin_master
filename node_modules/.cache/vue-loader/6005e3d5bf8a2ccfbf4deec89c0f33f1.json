{"remainingRequest":"/Users/funkim/giftbox_bootstrap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/funkim/giftbox_bootstrap/src/components/board/userInquiryWriting.vue?vue&type=style&index=0&id=6fa6a547&scoped=true&lang=css&","dependencies":[{"path":"/Users/funkim/giftbox_bootstrap/src/components/board/userInquiryWriting.vue","mtime":1607254606582},{"path":"/Users/funkim/giftbox_bootstrap/node_modules/css-loader/dist/cjs.js","mtime":1599900938539},{"path":"/Users/funkim/giftbox_bootstrap/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1599900939023},{"path":"/Users/funkim/giftbox_bootstrap/node_modules/postcss-loader/src/index.js","mtime":1599900938750},{"path":"/Users/funkim/giftbox_bootstrap/node_modules/cache-loader/dist/cjs.js","mtime":1599900938518},{"path":"/Users/funkim/giftbox_bootstrap/node_modules/vue-loader/lib/index.js","mtime":1599900939023}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5naWZ0Y2FyZF9wcm9ncmVzc190aXRsZXtiYWNrZ3JvdW5kLWNvbG9yOiNlZGVkZWQ7fQp0YWJsZXt3aWR0aDoxMDAlO30KY2FwdGlvbntkaXNwbGF5Om5vbmU7fQp0YWJsZSB0Ym9keSB0ciB0ZDpmaXJzdC1jaGlsZHt9Ci5idG5fd3JhcHt0ZXh0LWFsaWduOmNlbnRlcjt9Ci5idG5ue21pbi13aWR0aDozNSU7aGVpZ2h0OjUwcHg7bWFyZ2luOjAgMiU7bGluZS1oZWlnaHQ6NTBweDtkaXNwbGF5OmlubGluZS1ibG9jaztib3JkZXItcmFkaXVzOjJlbTtib3JkZXI6MXB4IHNvbGlkIHJnYmEoMCwwLDAsLjA4KTtib3gtc2hhZG93OjAgMXB4IDZweCAwIHJnYmEoMCwwLDAsLjEpO2JhY2tncm91bmQ6I2ZmZjtmb250LXdlaWdodDo1MDA7Y29sb3I6IzQ0NDtmb250LXNpemU6Ljg1cmVtO3RleHQtYWxpZ246Y2VudGVyO3ZlcnRpY2FsLWFsaWduOm1pZGRsZTtjdXJzb3I6cG9pbnRlcjtvdmVyZmxvdzp2aXNpYmxlO3doaXRlLXNwYWNlOm5vd3JhcH0KLmJ0bm4uZ3Jke2JhY2tncm91bmQtY29sb3I6IzQ5OGNlYjtiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCg0NWRlZywjNDk4ZGVjIDAsIzY3MjlhNyA5NSUpO2JveC1zaGFkb3c6MCAxcHggNnB4IDAgcmdiKDk0IDY3IDE4Myk7Y29sb3I6I2ZmZjtib3JkZXI6MH0KCjpob3N0IDo6bmctZGVlcCAuY2stZWRpdG9yX19lZGl0YWJsZV9pbmxpbmUgewogICAgbWluLWhlaWdodDogNTAwcHg7Cn0K"},{"version":3,"sources":["userInquiryWriting.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8LA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"userInquiryWriting.vue","sourceRoot":"src/components/board","sourcesContent":["<template>\n\t<div>\n\t\t<div class=\"giftcard_progress_title\">\n\t\t\t<div class=\"mb-md-5 pb-5 pt-5 container\">\n\t\t\t\t<h3>1:1문의 / 글쓰기</h3>\n\t\t\t\t<div>1:1문의 / 글쓰기</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<b-container class=\"mt-md-5 mt-4 mb-md-5 mb-4\">\n\t\t\t<table>\n\t\t\t\t<caption>1:1 문의 쓰기</caption>\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>제목</td>\n\t\t\t\t\t\t<td><b-form-input v-model=\"userWritingData.title\" placeholder=\"Enter your name\"></b-form-input></td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>내용</td>\n\t\t\t\t\t\t<td><ckeditor :editor=\"editor\" v-model=\"userWritingData.content\" :config=\"editorConfig\" @ready=\"onEditorReady\"></ckeditor></td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>답변수신메일</td>\n\t\t\t\t\t\t<td></td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t</table>\n\n\t\t\t<div class=\"btn_wrap\">\n\t\t\t\t<button type=\"button\" class=\"btnn\">취소하기</button>\n\t\t\t\t<button type=\"button\" class=\"btnn grd\" @click=\"uploadData\">등록하기</button>\n\t\t\t</div>\n\ntitle : {{userWritingData.title}}\ncontent : {{userWritingData.content}}\n\n\t\t</b-container>\n\t</div>\n</template>\n<script>\n\timport axios from \"axios\"\n\timport AWS from 'aws-sdk'\n\timport CKEditor from '@ckeditor/ckeditor5-vue'\n\timport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\n\n\texport default {\n\t\tname: 'userInquiryWriting',\n\t\tdata () {\n\t\t\treturn {\n\t\t\t\tfile: null,\n\t\t\t\talbumBucketName: process.env.VUE_APP_BUCKET,\n\t\t\t\tbucketRegion: process.env.VUE_APP_REGION,\n\t\t\t\tIdentityPoolId: process.env.VUE_APP_IdentityPoolId,\n\t\t\t\tfileList:[],\n\t\t\t\teditor: ClassicEditor,\n\t\t\t\teditorConfig: {\n\t\t\t\t\textraPlugins: [MyCustomUploadAdapterPlugin],\n\t\t\t\t},\n\t\t\t\teditorData: '<p>Content of the editor.</p>',\n\t\t\t\tuserWritingData: {\n\t\t\t\t\ttitle: '',\n\t\t\t\t\tcontent: '',\n\t\t\t\t},\n\t\t\t}\n\t\t},\n\n\t\tcreated () {\n\t\t\t\n\t\t},\n\t\tmounted() { \n\t\t\t\n\t\t},\n\n\t\tmethods: {\n\t\t\tonEditorReady(editor){\n\t\t\t\tconsole.log(editor)\n\t\t\t\teditor.editing.view.change( writer => {\n\t\t\t\t    writer.setStyle( 'height', '350px', editor.editing.view.document.getRoot() );\n\t\t\t\t} );\n\t\t\t},\n\n\t\t\tuploadData(){\n\t\t\t\taxios\n\t\t\t\t.post(process.env.VUE_APP_BASE_URL+'/users/board/OneToOne/', this.userWritingData, { withCredentials: true })\n\t\t\t\t.then(function (response) {\n\t\t\t\t\tconsole.log(response);\n\t\t\t\t\tthis.$router.push({name: 'userInquiry', path: 'userInquiry'}, function() {\n\t\t\t\t\t\tconsole.log(\"userInquiry 호출 완료\");\n\t\t\t\t\t});\n\t\t\t\t}.bind(this))\n\t\t\t\t.catch(function (error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tstore()\n\t\t\t{\n\n\t\t\t},\n\n\t\t\tuploader(editor)\n\t\t\t{\n\t\t\t\tconsole.log(editor)\n\n\t\t\t},\n\t\t}\n\t}\n\n\tclass UploadAdapter {\n\t\tconstructor(loader) {\n\t\t\tthis.loader = loader;\n\t\t}\n\n\t\tupload() {\n\t\t\treturn this.loader.file.then( file => new Promise(((resolve, reject) => {\n\t\t\t\tthis._initRequest();\n\t\t\t\tthis._initListeners( resolve, reject, file );\n\t\t\t\tthis._sendRequest( file );\n\t\t\t})))\n\t\t}\n\n\t\tabort() { //업로드 취소\n\t\t\tif ( this.xhr ) { this.xhr.abort(); } \n\t\t}\n\n\t\t_initRequest() {\n\t\t\tconst xhr = this.xhr = new XMLHttpRequest();\n\t\t\txhr.open('POST', 'https://dev-hourfun-front.s3.ap-northeast-2.amazonaws.com/upload/', true);\n\t\t\txhr.responseType = 'json';\n\t\t}\n\n\t\t_initListeners(resolve, reject, file) {\n\t\t\tconst xhr = this.xhr;\n\t\t\tconst loader = this.loader;\n\t\t\tconst genericErrorText = '파일을 업로드 할 수 없습니다.'\n\t\t\txhr.addEventListener('error', () => {reject(genericErrorText)})\n\t\t\txhr.addEventListener('abort', () => reject())\n\n\t\t\tconsole.log(resolve)\n\t\t\txhr.addEventListener('load', () => {\n\t\t\t\tconst response = xhr.response\n\t\t\t\tif(!response || response.error) {\n\t\t\t\t\treturn reject( response && response.error ? response.error.message : genericErrorText );\n\t\t\t\t}\n\n\t\t\t\tresolve({\n\t\t\t\t\tdefault: response.url \n\t\t\t\t})\n\t\t\t})\n\n\t\t}\n\n\t\t_sendRequest(file) {\n\t\t\tAWS.config.update({\n\t\t\t\tregion: process.env.VUE_APP_REGION,\n\t\t\t\tcredentials: new AWS.CognitoIdentityCredentials({\n\t\t\t\t\tIdentityPoolId: process.env.VUE_APP_IdentityPoolId\n\t\t\t\t})\n\t\t\t})\n\t\t\tconst s3 = new AWS.S3({\n\t\t\t\tapiVersion: '2006-03-01',\n\t\t\t\tparams: {\n\t\t\t\t\tBucket: process.env.VUE_APP_BUCKET\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tconsole.log(file)\n\t\t\tlet photoKey = 'upload/'+file.name\n\t\t\ts3.upload({\n\t\t\t\tKey: photoKey,\n\t\t\t\tBody: file,\n\t\t\t\tACL: 'public-read'\n\t\t\t}, (err, data) => {\n\t\t\t\tif (err) {\n\t\t\t\t\treturn console.log('There was an error uploading your photo: ', err.message);\n\t\t\t\t}\n\t\t\t\tconsole.log(data, 'upload end')\n\t\t\t\tconsole.log(data.Location)\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction MyCustomUploadAdapterPlugin(editor) {\n\t\teditor.plugins.get('FileRepository').createUploadAdapter = (loader) => {\n\t\t\treturn new UploadAdapter(loader)\n\t\t}\n\t}\n\n</script>\n​\n<style scoped=\"\">\n.giftcard_progress_title{background-color:#ededed;}\ntable{width:100%;}\ncaption{display:none;}\ntable tbody tr td:first-child{}\n.btn_wrap{text-align:center;}\n.btnn{min-width:35%;height:50px;margin:0 2%;line-height:50px;display:inline-block;border-radius:2em;border:1px solid rgba(0,0,0,.08);box-shadow:0 1px 6px 0 rgba(0,0,0,.1);background:#fff;font-weight:500;color:#444;font-size:.85rem;text-align:center;vertical-align:middle;cursor:pointer;overflow:visible;white-space:nowrap}\n.btnn.grd{background-color:#498ceb;background-image:linear-gradient(45deg,#498dec 0,#6729a7 95%);box-shadow:0 1px 6px 0 rgb(94 67 183);color:#fff;border:0}\n\n:host ::ng-deep .ck-editor__editable_inline {\n    min-height: 500px;\n}\n</style>"]}]}